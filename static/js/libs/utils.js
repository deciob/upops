// Generated by CoffeeScript 1.4.0

define(['underscore'], function(_) {
  'use strict';

  var getScale, getTranslation, getWorldViewDimensions, utils;
  getWorldViewDimensions = function(el) {
    var document_h, footer, footer_h, header, header_h, world_view;
    console.log($(el).innerWidth());
    header = $("#top");
    footer = $("#footer_viz");
    world_view = $(el);
    document_h = $(document).height();
    header_h = header.height();
    footer_h = footer.height();
    return {
      height: document_h - header_h - footer_h,
      width: world_view.innerWidth()
    };
  };
  getScale = function(width, height) {
    var factor, map_proportion, view_proportion;
    map_proportion = 500 / 960;
    view_proportion = height / width;
    if (view_proportion > map_proportion) {
      factor = 150 / 960;
      return width * factor;
    } else {
      factor = 150 / 500;
      return height * factor;
    }
  };
  getTranslation = function(scale) {
    var x_scale, y_scale;
    x_scale = 480 / 150 * scale;
    y_scale = 250 / 150 * scale;
    return {
      x: x_scale,
      y: y_scale
    };
  };
  return utils = {
    getWorldViewDimensions: getWorldViewDimensions,
    getScale: getScale,
    getTranslation: getTranslation
  };
});
